-- Final Close Button Script (v3 - Forced Red Color)
-- This version uses a brighter red and disables AutoButtonColor to ensure it stays red.

local CoreGui = game:GetService("CoreGui")

-- This is the function that will find the UI and add our button
local function findAndInjectCloseButton()
    -- Wait a couple of seconds to make sure the j.0frs Hub has fully loaded
    task.wait(2)

    local mainGui = nil
    local headerFrame = nil

    -- Search through everything on the screen to find the label with the correct title
    for _, descendant in ipairs(CoreGui:GetDescendants()) do
        if descendant:IsA("TextLabel") and descendant.Text == "j.0frs Hub" then
            -- We found it! The header must be the parent of this text label.
            headerFrame = descendant.Parent
            -- And the main GUI is the ancestor ScreenGui
            mainGui = headerFrame:FindFirstAncestorOfClass("ScreenGui")
            break -- Stop searching once we've found it
        end
    end

    -- If we couldn't find the UI after searching, stop the script.
    if not mainGui or not headerFrame then
        warn("Close Button Script: Could not find 'j.0frs Hub' on screen. The title might have changed.")
        return
    end

    -- Check if we already added a button, just in case
    if headerFrame:FindFirstChild("InjectedCloseButton") then
        return
    end
    
    print("Close Button Script: Found 'j.0frs Hub' title. Injecting close button...")

    -- Create the Close Button
    local CloseButton = Instance.new("TextButton")
    CloseButton.Name = "InjectedCloseButton"
    CloseButton.Parent = headerFrame -- Attach it to the header we found
    
    -- --- THE FIX IS HERE ---
    CloseButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0) -- Changed to a pure, bright red
    CloseButton.AutoButtonColor = false -- Prevents the hub from changing the color on hover/click
    -- ----------------------

    CloseButton.BorderSizePixel = 0
    CloseButton.Size = UDim2.new(0, 25, 0, 25)
    CloseButton.Position = UDim2.new(1, -30, 0.5, -12.5) -- Top-right corner
    CloseButton.ZIndex = 100 -- Set a very high ZIndex to ensure it's on top
    CloseButton.Font = Enum.Font.SourceSansBold
    CloseButton.Text = "X"
    CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    CloseButton.TextSize = 14

    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 4)
    UICorner.Parent = CloseButton
    
    -- When the button is clicked, destroy the entire main GUI
    CloseButton.MouseButton1Click:Connect(function()
        mainGui:Destroy()
    end)
end

-- --- START THE PROCESS ---
-- 1. Load the original j.0frs Hub script
loadstring(game:HttpGet("https://pastebin.com/raw/GyesYcic", true))()

-- 2. Run our injection function safely in a new thread
task.spawn(findAndInjectCloseButton)
